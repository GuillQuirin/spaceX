<div *ngIf="launch">
  <h3>Fiche détaillée de la mission N°{{launch.flight_number}}</h3>

  <mat-card class="mission-card">
    <mat-card-header>
      <img mat-card-avatar *ngIf="launch.links.mission_patch_small" src="{{launch.links.mission_patch_small}}" > 
      <mat-card-title>
        <h5>{{launch.mission_name}}</h5>
      </mat-card-title>
      <mat-card-subtitle>{{launch.launch_date_utc | date:'dd/MM/yyyy HH:mm'}}</mat-card-subtitle>
    </mat-card-header>  

    <mat-card-content>
      
      <mat-tab-group>
        <mat-tab label="Description">
          <p><button mat-raised-button class="{{launch.launch_success ? 'success' : 'fail'}}">Objectif {{launch.launch_success ? 'ATTEINT' : 'ECHOUE'}}</button></p>
          <p>{{launch.details}}</p>
        </mat-tab>
        <mat-tab label="Documents annexes">
          <a href="{{launch.links.article_link}}" target="_blank">{{launch.links.article_link}}</a>
          <img src="{{launch.links.mission_patch}}" style="max-height:150px;">
          <p><a href="{{launch.links.presskit}}" target="_blank">Consulter l'article de presse</a></p>
          <p><a href="{{launch.links.video_link}}" target="_blank">Accès à la vidéo Youtube</a></p>
          <p><a href="{{launch.links.wikipedia}}" target="_blank">Description Wikipédia</a></p>
        </mat-tab>
        <mat-tab label="Réutilisation de certains composants">
          <table id="reuse">
            <tr>
              <td>Noyau</td>
              <td>Noyau latéral 1</td>
              <td>Noyau latéral 2</td>
              <td>Carénages</td>
              <td>Capsule</td>
            </tr>
            <tr>
                <td>
                    <mat-chip-list>
                      <mat-chip class="{{launch.reuse.core ? 'success' : 'fail'}}" selected="true">
                        {{launch.reuse.core ? 'réutilisé' : 'non-réutilisé'}}
                      </mat-chip>
                    </mat-chip-list>
                </td>
                <td>
                  <mat-chip-list>
                    <mat-chip class="{{launch.reuse.side_core1 ? 'success' : 'fail'}}" selected="true">
                      {{launch.reuse.side_core1 ? 'réutilisé' : 'non-réutilisé'}}
                    </mat-chip>
                  </mat-chip-list>
                </td>            
                <td>
                  <mat-chip-list>
                    <mat-chip class="{{launch.reuse.side_core2 ? 'success' : 'fail'}}" selected="true">
                      {{launch.reuse.side_core2 ? 'réutilisé' : 'non-réutilisé'}}
                    </mat-chip>
                  </mat-chip-list>
                </td>            
                <td>
                  <mat-chip-list>
                    <mat-chip class="{{launch.reuse.fairings ? 'success' : 'fail'}}" selected="true">
                      {{launch.reuse.fairings ? 'réutilisé' : 'non-réutilisé'}}
                    </mat-chip>
                  </mat-chip-list>
                </td>            
                <td>
                  <mat-chip-list>
                    <mat-chip class="{{launch.reuse.capsule ? 'success' : 'fail'}}" selected="true">
                      {{launch.reuse.capsule ? 'réutilisé' : 'non-réutilisé'}}
                    </mat-chip>
                  </mat-chip-list>
                </td>            
            </tr>
          </table>
        </mat-tab>
        <mat-tab label="Informations de la fusée">
          
        </mat-tab>
        <mat-tab label="Informations sur la base de lancement">
          <div *ngIf="launchpad">
            <p>{{launchpad.full_name}} ({{launchpad.location.region}})</p>
            <p>{{launchpad.details}}</p>
            <agm-map [latitude]="launchpad.location.latitude" [longitude]="launchpad.location.longitude">
              <agm-marker [latitude]="launchpad.location.latitude" [longitude]="launchpad.location.longitude"></agm-marker>
            </agm-map>
          </div>      
        </mat-tab>
      </mat-tab-group>
      
    </mat-card-content>
  </mat-card>
</div>